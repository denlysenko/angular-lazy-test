# Пример приложения использующего фреймворк Angular lazy 

##  Backend  

- Простейший RESTful API реализованный с помощью Java  
- Для сборки проекта используется maven и jdk 1.7 
- Код API расположен в папке ./webali
- В онлайн API доступен по адресу: http://vgb-main-server.cloudapp.net:8080/webportal/webapi/myresource

В наших проектах мы используем jpa, что позволяет работать с любой базой данных, 
мало того при помощи настроек maven мы может выполнять сборки проекта под разные базы, не меняя код.

В проект RESTful API добавлен dbUnit тест позволяющий проверить коректность работы запросов.  
При запуске acceptTest предварительно запускается h2 база данных, в которой разворачиваются все таблицы, 
в которые записываются тестовые начальные данные. Далее запускается grizzly http server с приложением настроенным на тестовую базу.

## Frontend

- Структура приложения создана с помощью Angular lazy generator. Кроме фреймворка angular-lazy включает в себя 
ряд дополнительных компонентов, необходимых для эффективной разработки angular приложений.
- Благодаря angular-lazy необходимые компоненты подгружаются приложением, непосредственно, во время работы.
- Простая анимация на главной странице приложения выполнена с помошью CSS

Для сборки проекта используется Gulp. В проект включены ряд gulp задач, для автоматизации основных процессов разработки, таких как:  

- генерация стилей из SASS;
- сборка проекта; 
- компиляция ESMA5 совместимого кода;
- запуск юнит-тестов и e2e тестов.
- др.

Для тестирования используется фреймворк jasmine2. Для запуска обычных юнит-тестов используется Karma, а e2e тестов, соответственно Protractor. 

## Рекомендации по развертыванию веб-приложения

- Клонировать репозиторий проекта
- Установить глобальные компоненты с помощью команды: npm install -g jspm gulp protractor
- Установить модули приложения: npm install
- Установить веб-драйвер для запуска e2e тестов с помощью команды: ./node_modules/protractor/bin/webdriver-manager update
- Выполнить сборку проекта: gulp dist & gulp build
- Запуск приложения выполняется командой: gulp serve
- Запуск юнит-тестов: gulp test
- Запуск e2e тестов: gulp test-e2e

## Описание e2e теста веб-приложения

После запуска теста (./src/components/main-e2e-test.js) выполняется:

- проверка на существование и правильность заголовка приложения
- проверка на существование кнопки, которая иницирует запрос к RESTful API
- выполняется нажатие на кнопку и ожидание ответа
- выполняется проверка на правильность ответа 

В процессе выполнения e2e-теста веб-драйвер последовательно запускает браузеры: сначала Chrome затем Firefox. 
Статусы выполнения отображают в консоли. 
